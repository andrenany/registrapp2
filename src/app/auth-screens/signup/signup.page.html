<ion-content [fullscreen]="true" class="ion-padding background-image">
  <!-- Encabezado del formulario -->
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large" color="primary" class="header-title">Comenzar</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Título principal -->
  <div class="header">
    <h1 class="ion-text-center registrapp-text">Crear una Cuenta</h1>
    <p class="ion-text-center bienvenido-text">Ingresa tus datos para registrarte</p>
  </div>

  <!-- Tarjeta de formulario con estilo transparente -->
  <ion-card>
    <ion-card-header class="ion-text-center">
      <ion-title class="iniciar-sesion-text">Creación de Usuario</ion-title>
    </ion-card-header>

    <ion-card-content>
      <form [formGroup]="ionicForm" novalidate>
        <!-- Nombre completo -->
        <ion-item lines="full">
          <ion-input placeholder="Nombre completo" formControlName="fullname" class="input"></ion-input>
          <ion-icon slot="end" name="person-outline"></ion-icon>
        </ion-item>
        <div *ngIf="ionicForm.controls['fullname'].touched && ionicForm.controls['fullname'].invalid" class="error-message">
          <ion-text *ngIf="errorControl.fullname.errors?.required" color="danger">El nombre completo es obligatorio.</ion-text>
        </div>

        <!-- Correo electrónico -->
        <ion-item lines="full">
          <ion-input placeholder="Correo electrónico" formControlName="email" class="input"></ion-input>
          <ion-icon slot="end" name="mail-outline"></ion-icon>
        </ion-item>
        <div *ngIf="ionicForm.controls['email'].touched && ionicForm.controls['email'].invalid" class="error-message">
          <ion-text *ngIf="errorControl.email.errors?.required" color="danger">El correo es obligatorio.</ion-text>
          <ion-text *ngIf="errorControl.email.errors?.pattern" color="danger">Introduce un correo válido.</ion-text>
        </div>

        <!-- Contraseña -->
        <ion-item lines="full">
          <ion-input type="password" placeholder="Contraseña" formControlName="password" class="input"></ion-input>
          <ion-icon slot="end" name="lock-closed-outline"></ion-icon>
        </ion-item>
        <div *ngIf="ionicForm.controls['password'].touched && ionicForm.controls['password'].invalid" class="error-message">
          <ion-text *ngIf="errorControl.password.errors?.required" color="danger">La contraseña es obligatoria.</ion-text>
          <ion-text *ngIf="errorControl.password.errors?.pattern" color="danger">
            Debe tener más de 8 caracteres, al menos una mayúscula, un número y un carácter especial.
          </ion-text>
        </div>

        <!-- Teléfono de contacto -->
        <ion-item lines="full">
          <ion-input type="tel" placeholder="Teléfono de contacto" formControlName="contact" class="input"></ion-input>
          <ion-icon slot="end" name="call-outline"></ion-icon>
        </ion-item>
        <div *ngIf="ionicForm.controls['contact'].touched && ionicForm.controls['contact'].invalid" class="error-message">
          <ion-text *ngIf="errorControl.contact.errors?.required" color="danger">El contacto es obligatorio.</ion-text>
          <ion-text *ngIf="errorControl.contact.errors?.pattern" color="danger">Debe contener solo números.</ion-text>
          <ion-text *ngIf="errorControl.contact.errors?.minlength" color="danger">Debe tener al menos 8 dígitos.</ion-text>
        </div>

        <!-- Enlace para iniciar sesión -->
        <div class="login-link ion-text-center ion-margin-top">
          <p>¿Ya tienes una cuenta? <a [routerLink]="['/login']" style="color: #FFC33F">Inicia sesión</a></p>
        </div>
      </form>
    </ion-card-content>
  </ion-card>

  <!-- Botón de Registro -->
  <ion-fab *ngIf="ionicForm.valid" vertical="bottom" horizontal="end" style="margin-bottom: 30px;">
    <ion-fab-button (click)="signUP()">
      <ion-icon name="chevron-forward"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-tabs>
      <ion-tab-bar slot="bottom">
        <!-- Botón para "volver" -->
        <ion-tab-button tab="volver" (click)="navigateToLogin()">
          <ion-icon name="arrow-back-outline"></ion-icon>
          <ion-label>Volver</ion-label>
        </ion-tab-button>
      </ion-tab-bar> <!-- Cierra ion-tab-bar -->
    </ion-tabs> <!-- Cierra ion-tabs -->
  </ion-toolbar>
</ion-footer> <!-- Cierra ion-footer -->
